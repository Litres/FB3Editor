addEventListener("message",function(b){var a=b.data,c;c=self._worker||new W();self._worker=c;if(!a){c.init()}else{c.message(a)}},false);function W(){return{data:null,init:function(){var a=this;self.importScripts("lib/index.js");a.data=true;a.post()},message:function(b){var a=this;a.data=b;if(self.validateXML){a.valid();b.loaded=true}else{b.valid="xmllint не загружен";b.res=false;b.loaded=false}a.post()},post:function(){var b=this,a;a={masterName:"xmllint",data:b.data};self.postMessage(a)},valid:function(){var d=this,e=d.data,c,b,a;b={xml:e.xml,schema:e.xsd,arguments:["--noout","--schema",e.schemaFileName,e.xmlFileName]};c=validateXML(b);a=!/^body.xml:1/i.test(c);e.valid=c;e.res=a}}};